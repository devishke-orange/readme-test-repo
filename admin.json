{
  "openapi": "3.1.0",
  "info": {
    "title": "Admin",
    "version": "2.5.0"
  },
  "servers": [
    {
      "url": "{orangehrm-url}",
      "variables": {
        "orangehrm-url": {
          "default": "https://opensource-demo.orangehrmlive.com/index.php"
        }
      }
    }
  ],
  "paths": {
    "/api/v2/admin/educations/{id}": {
      "get": {
        "tags": [
          "Admin/Education"
        ],
        "summary": "Retrieve an education record",
        "operationId": "getOneEducation",
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Admin-EducationModel"
                    },
                    "meta": {
                      "type": "object"
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/RecordNotFound"
          }
        }
      },
      "put": {
        "tags": [
          "Admin/Education"
        ],
        "summary": "Update an education record",
        "operationId": "putEducation",
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Admin-EducationModel"
                    },
                    "meta": {
                      "type": "object"
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/RecordNotFound"
          }
        }
      }
    },
    "/api/v2/admin/educations": {
      "get": {
        "tags": [
          "Admin/Education"
        ],
        "summary": "Retrieve all education records",
        "operationId": "getAllEducation",
        "parameters": [
          {
            "name": "sortField",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "e.name"
              ]
            }
          },
          {
            "$ref": "#/components/parameters/sortOrder"
          },
          {
            "$ref": "#/components/parameters/limit"
          },
          {
            "$ref": "#/components/parameters/offset"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Admin-SkillModel"
                      }
                    },
                    "meta": {
                      "properties": {
                        "total": {
                          "type": "integer"
                        }
                      },
                      "type": "object"
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin/Education"
        ],
        "summary": "Create an education record",
        "operationId": "postEducation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Admin-SkillModel"
                    },
                    "meta": {
                      "type": "object"
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Admin/Education"
        ],
        "summary": "Delete education records",
        "operationId": "deleteEducation",
        "requestBody": {
          "$ref": "#/components/requestBodies/DeleteRequestBody"
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/DeleteResponse"
          }
        }
      }
    },
    "/api/v2/admin/ldap-config": {
      "get": {
        "tags": [
          "Admin/LDAP Config"
        ],
        "operationId": "6e11269b7bc96b38fffc459e578549a9",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/LDAP-LDAPConfigModel"
                    },
                    "meta": {
                      "type": "object"
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Admin/LDAP Config"
        ],
        "operationId": "d8435e417c92f4493c483ad446fb8f08",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "required": [
                  "userLookupSettings",
                  "dataMapping",
                  "mergeLDAPUsersWithExistingSystemUsers",
                  "syncInterval"
                ],
                "properties": {
                  "enable": {
                    "type": "boolean"
                  },
                  "hostname": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "port": {
                    "type": "integer"
                  },
                  "encryption": {
                    "type": "string",
                    "enum": [
                      "none",
                      "tls",
                      "ssl"
                    ]
                  },
                  "ldapImplementation": {
                    "type": "string",
                    "enum": [
                      "OpenLDAP",
                      "ActiveDirectory"
                    ]
                  },
                  "bindAnonymously": {
                    "type": "boolean"
                  },
                  "bindUserDN": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "bindUserPassword": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "userLookupSettings": {
                    "type": "array",
                    "items": {
                      "properties": {
                        "baseDN": {
                          "type": "string",
                          "maxLength": 255
                        },
                        "searchScope": {
                          "type": "string",
                          "enum": [
                            "one",
                            "sub"
                          ]
                        },
                        "userNameAttribute": {
                          "type": "string",
                          "maxLength": 100
                        },
                        "userSearchFilter": {
                          "type": "string",
                          "maxLength": 255
                        },
                        "userUniqueIdAttribute": {
                          "type": "string",
                          "maxLength": 100
                        },
                        "employeeSelectorMapping": {
                          "type": "array",
                          "items": {
                            "properties": {
                              "field": {
                                "type": "string",
                                "enum": [
                                  [
                                    "employeeId",
                                    "workEmail",
                                    "drivingLicenseNo",
                                    "otherId",
                                    "otherEmail",
                                    "ssnNumber",
                                    "sinNumber"
                                  ]
                                ]
                              },
                              "attributeName": {
                                "type": "string",
                                "maxLength": 100
                              }
                            },
                            "type": "object"
                          }
                        }
                      },
                      "type": "object"
                    }
                  },
                  "dataMapping": {
                    "properties": {
                      "firstName": {
                        "type": "string",
                        "maxLength": 100
                      },
                      "middleName": {
                        "type": "string",
                        "maxLength": 100
                      },
                      "lastName": {
                        "type": "string",
                        "maxLength": 100
                      },
                      "userStatus": {
                        "type": "string",
                        "maxLength": 100
                      },
                      "workEmail": {
                        "type": "string",
                        "maxLength": 100
                      },
                      "employeeId": {
                        "type": "string",
                        "maxLength": 100
                      }
                    },
                    "type": "object"
                  },
                  "mergeLDAPUsersWithExistingSystemUsers": {
                    "type": "boolean"
                  },
                  "syncInterval": {
                    "type": "string",
                    "maximum": 23,
                    "minimum": 1
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/LDAP-LDAPConfigModel"
                    },
                    "meta": {
                      "type": "object"
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/ldap-test-connection": {
      "post": {
        "tags": [
          "Admin/LDAP Config"
        ],
        "operationId": "236815a841a93d3095092b2bd6dd53c0",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "hostname": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "port": {
                    "type": "integer"
                  },
                  "encryption": {
                    "type": "string",
                    "enum": [
                      "none",
                      "tls",
                      "ssl"
                    ]
                  },
                  "ldapImplementation": {
                    "type": "string",
                    "enum": [
                      "OpenLDAP",
                      "ActiveDirectory"
                    ]
                  },
                  "bindAnonymously": {
                    "type": "boolean"
                  },
                  "bindUserDN": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "bindUserPassword": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "userLookupSettings": {
                    "type": "array",
                    "items": {
                      "properties": {
                        "baseDN": {
                          "type": "string",
                          "maxLength": 255
                        },
                        "searchScope": {
                          "type": "string",
                          "enum": [
                            "one",
                            "sub"
                          ]
                        },
                        "userNameAttribute": {
                          "type": "string"
                        },
                        "userSearchFilter": {
                          "type": "string",
                          "maxLength": 255
                        },
                        "userUniqueIdAttribute": {
                          "type": "string"
                        },
                        "employeeSelectorMapping": {
                          "type": "object"
                        }
                      },
                      "type": "object"
                    }
                  },
                  "dataMapping": {
                    "properties": {
                      "firstName": {
                        "type": "string",
                        "maxLength": 100
                      },
                      "middleName": {
                        "type": "string",
                        "maxLength": 100
                      },
                      "lastName": {
                        "type": "string",
                        "maxLength": 100
                      },
                      "userStatus": {
                        "type": "string",
                        "maxLength": 100
                      },
                      "workEmail": {
                        "type": "string",
                        "maxLength": 100
                      },
                      "employeeId": {
                        "type": "string",
                        "maxLength": 100
                      }
                    },
                    "type": "object"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "properties": {
                          "category": {
                            "type": "string",
                            "example": "Login"
                          },
                          "checks": {
                            "properties": {
                              "label": {
                                "type": "string"
                              },
                              "value": {
                                "type": "string"
                              }
                            },
                            "type": "object"
                          }
                        },
                        "type": "object"
                      }
                    },
                    "meta": {
                      "type": "object"
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/ldap/user-sync": {
      "get": {
        "tags": [
          "Admin/LDAP Config"
        ],
        "operationId": "9bf585030745b9474d79370b3a651540",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/LDAP-LDAPSyncStatusModel"
                    },
                    "meta": {
                      "type": "object"
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin/LDAP Config"
        ],
        "operationId": "e57e9c31b2d88151cf9b53519364544f",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/LDAP-LDAPSyncStatusModel"
                    },
                    "meta": {
                      "type": "object"
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "error": {
                      "oneOf": [
                        {
                          "property": "error",
                          "properties": {
                            "status": {
                              "type": "string",
                              "default": "400"
                            },
                            "message": {
                              "type": "string",
                              "default": "LDAP settings not configured"
                            }
                          },
                          "type": "object"
                        },
                        {
                          "property": "error",
                          "properties": {
                            "status": {
                              "type": "string",
                              "default": "400"
                            },
                            "message": {
                              "type": "string",
                              "default": "LDAP sync not enabled"
                            }
                          },
                          "type": "object"
                        },
                        {
                          "property": "error",
                          "properties": {
                            "status": {
                              "type": "string",
                              "default": "400"
                            },
                            "message": {
                              "type": "string",
                              "default": "Please check the settings for your LDAP configuration"
                            }
                          },
                          "type": "object"
                        }
                      ]
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Admin-EducationModel": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "Admin-SkillModel": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "LDAP-LDAPConfigModel": {
        "properties": {
          "enable": {
            "type": "boolean"
          },
          "hostname": {
            "type": "string"
          },
          "port": {
            "type": "integer"
          },
          "encryption": {
            "type": "string"
          },
          "ldapImplementation": {
            "type": "string"
          },
          "bindAnonymously": {
            "type": "boolean"
          },
          "bindUserDN": {
            "type": [
              "string",
              "null"
            ]
          },
          "hasBindUserPassword": {
            "type": "boolean"
          },
          "userLookupSettings": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "dataMapping": {
            "properties": {
              "firstName": {
                "type": "string"
              },
              "middleName": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "lastName": {
                "type": "string"
              },
              "workEmail": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "employeeId": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "userStatus": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "type": "object"
          },
          "mergeLDAPUsersWithExistingSystemUsers": {
            "type": "boolean"
          },
          "syncInterval": {
            "type": "integer"
          }
        },
        "type": "object"
      },
      "LDAP-LDAPSyncStatusModel": {
        "properties": {
          "syncStartedAt": {
            "properties": {
              "date": {
                "type": "string",
                "format": "date"
              },
              "time": {
                "type": "string",
                "format": "time"
              }
            },
            "type": "object"
          },
          "syncFinishedAt": {
            "properties": {
              "date": {
                "type": "string",
                "format": "date"
              },
              "time": {
                "type": "string",
                "format": "time"
              }
            },
            "type": "object"
          },
          "syncStatus": {
            "type": "string"
          }
        },
        "type": "object"
      }
    },
    "responses": {
      "DeleteResponse": {
        "description": "Success",
        "content": {
          "application/json": {
            "schema": {
              "properties": {
                "data": {
                  "type": "array",
                  "items": {
                    "type": "integer"
                  }
                },
                "meta": {
                  "type": "object"
                }
              },
              "type": "object"
            }
          }
        }
      },
      "RecordNotFound": {
        "description": "Record Not Found",
        "content": {
          "application/json": {
            "schema": {
              "properties": {
                "error": {
                  "properties": {
                    "status": {
                      "type": "string",
                      "default": "404"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                }
              },
              "type": "object"
            },
            "example": {
              "error": {
                "status": "404",
                "message": "Record Not Found"
              }
            }
          }
        }
      }
    },
    "parameters": {
      "sortOrder": {
        "name": "sortOrder",
        "in": "query",
        "required": false,
        "schema": {
          "type": "string",
          "enum": [
            "ASC",
            "DESC"
          ]
        }
      },
      "limit": {
        "name": "limit",
        "in": "query",
        "required": false,
        "schema": {
          "type": "integer",
          "default": 50
        }
      },
      "offset": {
        "name": "offset",
        "in": "query",
        "required": false,
        "schema": {
          "type": "integer",
          "default": 0
        }
      }
    },
    "requestBodies": {
      "DeleteRequestBody": {
        "content": {
          "application/json": {
            "schema": {
              "required": [
                "ids"
              ],
              "properties": {
                "ids": {
                  "type": "array",
                  "items": {
                    "type": "integer"
                  }
                }
              },
              "type": "object"
            }
          }
        }
      }
    }
  }
}